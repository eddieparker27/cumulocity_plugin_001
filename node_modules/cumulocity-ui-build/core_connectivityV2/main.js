/* core_connectivityV2 9.16.4 2018-11-07T09:47:37+00:00 f3088a38af4a (release/9.16.0) tip */
!function(){"use strict";function n(n,t){function s(n,t){var s=n.deviceId;return t.shouldShowConnectivityTabInDM(s)}s.$inject=["$routeParams","connectivityService"],n.when("/device/:deviceId",{template:"<c8y-connectivity-v2 />",name:t("Connectivity"),icon:"plug",showIfPermissions:{anyRole:["ROLE_CONNECTIVITY_READ"]},showIf:s})}n.$inject=["c8yViewsProvider","gettext"],angular.module("c8y.connectivityV2",[]).config(n)}(),function(){"use strict";function n(n,t,s,e,i){function a(){o().then(function(n){u.available=n}),i.getProviderSupportedFunctionalities().then(r)}function r(n){u.supportedFunctionalities=n}function o(){return e.ping().then(i.getCurrentProviderDetails).then(l).then(function(){return d()}).then(_.constant(!0)).catch(_.constant(!1))}function l(n){u.currentProvider=n.providerName}function c(){u.available=!1,d(!0).then(function(){t(function(){u.available=!0},100)})}function d(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=void 0;return"ericsson"===u.currentProvider?(_.set(u,"commonData.currentDayDataUsage",i.getThisDayDataUsage(n.deviceId,m,t)),s=_.get(u,"commonData.currentDayDataUsage")):(_.set(u,"commonData.currentMonthDataUsage",e.getTerminalDataUsage(n.deviceId,{},v)),s=_.get(u,"commonData.currentMonthDataUsage")),s}var u=this,v=i.getThisMonth(),m=i.getThisDay(),g={},p={};_.assign(u,{$onInit:a,available:!1,reload:c,supportedFunctionalities:g,currentProvider:p})}n.$inject=["$routeParams","$timeout","$q","c8yConnectivity","connectivityService"],angular.module("c8y.connectivityV2").component("c8yConnectivityV2",{controller:n,controllerAs:"vm",templateUrl:"core_connectivityV2/connectivityV2.html"})}(),function(){"use strict";function n(n,t,s,e,i,a,r,o,l,c){function d(){var n=s.monthFilter();return _.unset(n,"dataTo"),m(n)}function u(){var n=s.monthFilter({},1);return m(n)}function v(n,t,s){var e="";if(!_.isUndefined(s)){var a={thisMonthEnd:n.dateTo,thisMonthStart:n.dateFrom,lastMonthStart:t.dateFrom,lastMonthEnd:t.dateTo,lastMonthUsage:s};e=i.getString("Usage this month to date ({{thisMonthStart}} - {{thisMonthEnd}})\nUsage for last month ({{lastMonthStart}} - {{lastMonthEnd}}): {{lastMonthUsage}}",a)}return e}function m(n){if(n.dateFrom){var t=n.dateFrom;n.dateFrom=moment(t).format("YYYY-MM-DD"),n.cycleStartDate=moment(t).format("YYYY-MM-DD")}return n.dateTo?n.dateTo=moment(n.dateTo).format("YYYY-MM-DD"):n.dateTo=moment().format("YYYY-MM-DD"),n}function g(){var n=moment().startOf("day").format("YYYY-MM-DD"),t={dateFrom:n};return t}function p(){var n=t("Recent data");return n}function f(n,t){var s=n?_.reduce(n,function(n,s){return n+_.get(s,t)},0).toFixed(3):0;return s>0?s:0}function h(){return h.promise||(h.promise=e.hasAnyRole(["ROLE_CONNECTIVITY_ADMIN"])),h.promise}function b(){return b.promise||(b.promise=a.getProviderSupportedFunctionalities().then(function(n){var t=n.functionalities;return y(t)})),b.promise}function y(n){return _.reduce(n,function(n,t){return n[t]=!0,n},{})}function S(){return S.promise||(S.promise=r.detail()),S.promise}function D(n,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s&&P.cache.delete(n+"_"+t),P(n,t)}function T(n,t){return a.getTerminalDataUsage(n,{},t)}function I(n,t){return n+"_"+t}function M(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&w.cache.delete(n),w(n)}function U(n){return a.getTerminalUsage(n,{},{})}function A(n){return l.detailCached(n).then(s.getResData).then(V).then(a.ping).then(a.isConnectivitySubscribed).then(function(){return E(n)}).then(function(){return C(n)}).then(function(){return x(n)}).then(_.constant(!0)).catch(_.constant(!1))}function V(t){var s=t;return _.get(s,"c8y_Mobile.iccid")||_.get(s,"c8y_Mobile.msisdn")?n.when():n.reject()}function E(t){return a.getTerminalDetails(t,{},{},{silentError:!0}).catch(function(t){return 400!==t.status&&c.danger(t.statusText),n.reject(t)})}function C(t){return l.detailCached(t).then(s.getResData).then(function(s){return _.get(s,"c8y_Mobile.c8y_IsConnectivity")?n.when():a.getTerminalDetails(t,{},{},{silentError:!0}).then(function(){return _.set(s,"c8y_Mobile.c8y_IsConnectivity",{}),l.save(s)})})}function x(s){return a.getSource(s).then(function(s){var e=[];if(_.get(s,"url")){var i={text:t("SIM details"),action:function(){window.open(s.url,"_blank")}};e.push(i)}return n.when(_.forEach(e,o.addAction))})}var F={getThisMonth:d,getLastMonth:u,getThisDay:g,getThisDayTerminalUsage:M,getUsageTooltip:v,getTodaysUsageTooltip:p,processUsageData:f,isAdmin:h,getProviderSupportedFunctionalities:b,getCurrentProviderDetails:S,getThisDayDataUsage:D,shouldShowConnectivityTabInDM:A},P=_.memoize(T,I),w=_.memoize(U);return F}n.$inject=["$q","gettext","c8yBase","c8yPermissions","gettextCatalog","c8yConnectivity","c8yConnectivitySettings","c8yActions","c8yDevices","c8yAlert"],angular.module("c8y.connectivityV2").factory("connectivityService",n)}(),function(){"use strict";function n(n,t,s,e,i,a,r){function o(){_.assign(z,{setStatus:T,statusMap:H,getLastMonthSmsUsageTooltip:V,getDataUsageTooltip:$,getVoiceUsageTooltip:O,setSimStatus:q,annotateStringsForTranslation:B})}function l(n){_.get(n,"available.currentValue")&&c()}function c(){b(),a.getCurrentProviderDetails().then(d).then(a.getProviderSupportedFunctionalities).then(u).then(v)}function d(n){return Q=n.providerName,_.assign(z,{provider:Q}),Q}function u(n){return z.supportedFunctionalities=n,z.supportedFunctionalities}function v(n){_.forEach(n,function(n,t){var s=_.get(W,t);s&&_.forEach(s,function(n){return n()})})}function m(){"ericsson"!==Q&&(L(),k())}function g(){"ericsson"===Q?N():(x(),P())}function p(){"ericsson"!==Q&&(U(),E())}function f(){return e.getStatuses().then(function(n){_.set(z,"statusMap.statuses",h(n.statuses))})}function h(n){return _.map(n,function(n){return{status:n.status,readOnly:n.readOnly,text:t("humanize")(n.status).replace("NAME","").trim()}})}function b(){return a.isAdmin().then(y)}function y(n){return z.isAdmin=n,s.resolve(z.isAdmin)}function S(){return e.getTerminalDetails(n.deviceId).then(D).then(I).then(M)}function D(n){var t=r(n.inSession?"Yes":"No");return z.session=_.assign(z.session,n,{inSession:t,fixedIpAddress:n.fixedIpAddress||"-"}),z.currentStatus=_.get(n,"status.value"),z.session}function T(){var n=_.find(H.statuses,function(n){return n.status===z.session.status});z.currentStatus=n.status}function I(){z.statusIcon=_.get(z.statusMap,"icons["+_.get(z,"session.status.activity")+"].icon")}function M(){z.statusClass=_.get(z.statusMap,"icons["+_.get(z,"session.status.activity")+"].class")}function U(){return e.getTerminalSmsUsage(n.deviceId,{},J).then(A)}function A(n){return z.session=_.assign(z.session,{lastMonthSmsUsage:n.billings?n.billings.length:0}),z.session}function V(){return"ericsson"===Q?a.getTodaysUsageTooltip():a.getUsageTooltip(X,J,_.get(z,"session.lastMonthSmsUsage"))}function E(){return e.getTerminalSmsUsage(n.deviceId,{},X).then(C)}function C(n){return z.session=_.assign(z.session,{currentMonthSmsUsage:n.billings?n.billings.length:0}),z.session}function x(){return e.getTerminalDataUsage(n.deviceId,{},J).then(F)}function F(n){var t=a.processUsageData(n.billings,"volume");return z.session=_.assign(z.session,{lastMonthDataUsage:t}),z.session}function P(){return(_.get(z,"commonData.currentMonthDataUsage")||e.getTerminalDataUsage(n.deviceId,{},X)).then(w)}function w(n){var t=a.processUsageData(n.billings,"volume");return z.session=_.assign(z.session,{currentMonthDataUsage:t}),z.session}function N(){return a.getThisDayTerminalUsage(n.deviceId,!1).then(Y)}function Y(n){return z.session=_.assign(z.session,{currentDayDataUsage:_.toString(n.dataUsage),currentDaySmsUsage:_.toString(n.smsUsage),currentDayVoiceUsage:_.toString(n.voiceUsage||0)}),z.session}function $(){return"ericsson"===Q?a.getTodaysUsageTooltip():a.getUsageTooltip(X,J,_.get(z,"session.lastMonthDataUsage"))}function L(){return e.getTerminalVoiceUsage(n.deviceId,{},J).then(R)}function R(n){var t=a.processUsageData(n.billings,"duration");return z.session=_.assign(z.session,{lastMonthVoiceUsage:t}),z.session}function O(){return"ericsson"===Q?a.getTodaysUsageTooltip():a.getUsageTooltip(X,J,_.get(z,"session.lastMonthVoiceUsage"))}function k(){return e.getTerminalVoiceUsage(n.deviceId,{},J).then(j)}function j(n){var t=a.processUsageData(n.billings,"duration");return z.session=_.assign(z.session,{currentMonthVoiceUsage:t}),z.session}function q(t){return e.setTerminalSimStatusV2(n.deviceId,{status:t}).then(function(n){z.currentStatus=n.status}).then(z.onReload).then(G)}function G(){var n=r("SIM status successfully changed");return i.success(n)}function B(){r("ACTIVATED"),r("ACTIVATION READY"),r("DEACTIVATED"),r("INVENTORY"),r("PURGED"),r("REPLACED"),r("RETIRED"),r("TEST READY"),r("TRIAL"),r("ACTIVATE"),r("DEACTIVATE"),r("PAUSE"),r("TERMINATE"),r("REACTIVATE"),r("Ordered"),r("SIM Allocated"),r("SIM Ordered"),r("Activated In HLR"),r("Active"),r("Deactivated"),r("Pause"),r("Terminated"),r("Closed"),r("APN"),r("LAST ACTIVITY"),r("MSISDN")}var z=this,H={icons:{OPERATING:{icon:"check-circle",class:"statusOk"},SUSPENDED:{icon:"exclamation-circle",class:"statusNok"},MAINTENANCE:{icon:"wrench",class:"statusAlert"}}},W={SIM_STATUS:[f],SESSION:[S],SMS_USAGE:[p],DATA_USAGE:[g],VOICE_USAGE:[m]},X=a.getThisMonth(),J=a.getLastMonth(),K={},Q=void 0;_.assign(z,{$onInit:o,$onChanges:l,supportedFunctionalities:K})}n.$inject=["$routeParams","$filter","$q","c8yConnectivity","c8yAlert","connectivityService","gettext"],angular.module("c8y.connectivityV2").component("c8yConnectivityStatus",{controller:n,controllerAs:"vm",templateUrl:"core_connectivityV2/status.html",bindings:{available:"<",onReload:"&",commonData:"<?"}})}(),function(){"use strict";function n(n,t){function s(n){_.get(n,"available.currentValue")&&e()}function e(){return t.getTerminalAuditLogs(n.deviceId).then(i)}function i(n){return a.auditLogs=n.entries,a.auditLogs}var a=this;_.assign(a,{$onChanges:s})}n.$inject=["$routeParams","c8yConnectivity"],angular.module("c8y.connectivityV2").component("c8yConnectivityAuditLogs",{controller:n,controllerAs:"vm",templateUrl:"core_connectivityV2/auditLogs.html",bindings:{available:"<"}})}(),function(){"use strict";function n(n,t,s,e,i,a,r){function o(){f()}function l(n){_.get(n,"available.currentValue")&&(u(),c())}function c(){a.isAdmin().then(d)}function d(n){h.isAdmin=n}function u(){return s.getSms(t.deviceId,{},b).then(v)}function v(n){return h.smss=n.entries,h.smss}function m(){var n=r("SMS successfully sent");return h.message.text="",e.success(n)}function g(n){return s.sendSms(t.deviceId,n).then(u).then(m)}function p(n){return i.validationHints(n,y)}function f(){r("Delivered"),r("Received"),r("Pending"),r("Failed")}var h=this,b=a.getThisMonth(),y={required:r("This field is required!")},S="messageForm";n.invalid=_.bind(i.invalid,i,n.forms,S),_.assign(h,{$onInit:o,$onChanges:l,sendSms:g,validationHints:p})}n.$inject=["$scope","$routeParams","c8yConnectivity","c8yAlert","c8yBase","connectivityService","gettext"],angular.module("c8y.connectivityV2").component("c8yConnectivitySms",{controller:n,controllerAs:"vm",templateUrl:"core_connectivityV2/sms.html",bindings:{available:"<"}})}(),function(){"use strict";function n(n,t,s){function e(){s.getProviderSupportedFunctionalities().then(i)}function i(n){return v.supportedFunctionalities=n,v.supportedFunctionalities}function a(n){_.get(n,"available.currentValue")&&s.getCurrentProviderDetails().then(r).then(o)}function r(n){return f=n.providerName}function o(){"ericsson"===f?l():d()}function l(){return(_.get(v,"commonData.currentDayDataUsage")||s.getThisDayDataUsage(n.deviceId,g,!1)).then(c)}function c(n){return v.sessions=n.billings,v.session}function d(){return(_.get(v,"commonData.currentMonthDataUsage")||t.getTerminalDataUsage(n.deviceId,{},m)).then(u)}function u(n){return v.sessions=n.billings,v.sessions}var v=this,m=s.getThisMonth(),g=s.getThisDay(),p={},f=void 0;_.assign(v,{$onInit:e,$onChanges:a,supportedFunctionalities:p})}n.$inject=["$routeParams","c8yConnectivity","connectivityService"],angular.module("c8y.connectivityV2").component("c8yConnectivitySessions",{controller:n,controllerAs:"vm",templateUrl:"core_connectivityV2/sessions.html",bindings:{available:"<",commonData:"<?"}})}(),function(){"use strict";function n(n){var t;t='<div class="card">\r\n  <div class="card-header">\r\n    <h4 class="card-title">{{\'Audit logs\' | translate }}</h4>\r\n  </div>\r\n  <hr>\r\n    <div class="c8y-empty-state" ng-if="vm.auditLogs.length === 0">\r\n      <p class="text-center" translate>\r\n        No audit logs found.\r\n      </p>\r\n    </div>\r\n  <div class="card-block" ng-if="vm.auditLogs.length > 0">\r\n    <div class="timeline-list list-condensed">\r\n      <div class="timeline-list-item flex-row" ng-repeat="auditLog in vm.auditLogs">\r\n        <small class="timeline-item-date">\r\n          {{auditLog.dateTime | absoluteDate}}\r\n        </small>\r\n        <div class="timeline-item-content flex-row wrap">\r\n          <div class="list-item-icon">\r\n            <i c8y-icon="archive"></i>\r\n          </div>\r\n          <div class="list-item-body">\r\n            <div class="row">\r\n              <div class="col-sm-5">\r\n                <label class="small" translate>Changed</label>\r\n                <span ng-bind="auditLog.change"></span>\r\n                <br>\r\n                <label class="small" translate>Who</label>\r\n                <span ng-bind="auditLog.triggeredBy"></span>\r\n              </div>\r\n              <div class="col-sm-5">\r\n                <label class="small" translate>From</label>\r\n                <span ng-bind="auditLog.from"></span>\r\n                <br>\r\n                <label class="small" translate>To</label>\r\n                <span ng-bind="auditLog.to"></span>\r\n              </div>\r\n              <div class="col-sm-2">\r\n                <label class="small" translate>Status</label>\r\n                <span ng-bind="auditLog.status"></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>',n.put("connectivityV2/auditLogs.html",t),n.put("core_connectivityV2/auditLogs.html",t),n.put("/apps/core/connectivityV2/auditLogs.html",t),t='<div class="connectivity-plugin">\r\n  <div class="panel panel-clean">\r\n\r\n    <div class="clearfix">\r\n      <button class="btn btn-link pull-right" ng-disabled="loading" ng-click="vm.reload()">\r\n        <i c8y-icon="refresh"></i>\r\n        <translate>Reload</translate>\r\n      </button>\r\n    </div>\r\n\r\n    <c8y-connectivity-status ng-if="vm.supportedFunctionalities.SIM_STATUS" available="vm.available" on-reload="vm.reload()" common-data="vm.commonData"></c8y-connectivity-status>\r\n    <c8y-connectivity-sms ng-if="vm.supportedFunctionalities.SMS" available="vm.available"></c8y-connectivity-sms>\r\n    <c8y-connectivity-sessions ng-if="vm.supportedFunctionalities.SESSION" available="vm.available" common-data="vm.commonData"></c8y-connectivity-sessions>\r\n    <c8y-connectivity-audit-logs ng-if="vm.supportedFunctionalities.AUDIT" available="vm.available"></c8y-connectivity-audit-logs>\r\n\r\n  </div>\r\n</div>\r\n',n.put("connectivityV2/connectivityV2.html",t),n.put("core_connectivityV2/connectivityV2.html",t),n.put("/apps/core/connectivityV2/connectivityV2.html",t),t='<div class="card">\r\n  <div class="card-header">\r\n    <h4 class="card-title">{{\'Sessions\' | translate }}</h4>\r\n  </div>\r\n  <hr>\r\n    <div class="c8y-empty-state" ng-if="vm.sessions.length === 0">\r\n      <p class="text-center" translate>\r\n        No sessions found.\r\n      </p>\r\n    </div>\r\n  <div class="list-group" ng-if="vm.sessions.length > 0">\r\n    <div class="list-group-item flex-row" ng-repeat="session in vm.sessions">\r\n      <div class="list-item-icon">\r\n        <i c8y-icon="exchange"></i>\r\n      </div>\r\n\r\n      <div class="list-item-body">\r\n        <div class="row">\r\n          <div class="col-sm-3">\r\n            <label class="small" translate>Customer</label>\r\n            <br class="visible-sm">\r\n            <span ng-bind="session.customer"></span>\r\n          </div>\r\n          <div class="col-sm-3">\r\n            <label class="small" translate>Started</label>\r\n            <br class="visible-sm">\r\n            <span ng-bind="session.sessionStartTime | absoluteDate"></span>\r\n          </div>\r\n          <div class="col-sm-3">\r\n            <label class="small" translate>Duration</label>\r\n            <br class="visible-sm">\r\n            <span ng-bind="session.duration | duration"></span>\r\n          </div>\r\n          <div class="col-sm-3">\r\n            <label class="small" translate>Data usage (MB)</label>\r\n            <br class="visible-sm">\r\n            <span ng-bind="session.volume"></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>',n.put("connectivityV2/sessions.html",t),n.put("core_connectivityV2/sessions.html",t),n.put("/apps/core/connectivityV2/sessions.html",t),t='<div class="card" ng-if="vm.smss.length > 0 || vm.isAdmin">\n  <div class="card-header">\n    <h4 class="card-title"> {{\'SMS\' | translate }}</h4>\n  </div>\n  <hr>\n\n  <div class="list-group">\n    <div class="list-group-item flex-row collapsible" ng-class="{\'expanded\': vm.isDetailExpanded}" ng-repeat="sms in vm.smss" ng-click="vm.isDetailExpanded = !vm.isDetailExpanded">\n\n      <div class="list-item-actions">\n        <button type="button" title="{{\'Expand\' | translate}}" class="collapse-btn">\n          <i c8y-icon="chevron-down"></i>\n        </button>\n      </div>\n\n      <div class="list-item-icon">\n        <i c8y-icon="envelope-o"></i>\n      </div>\n\n      <div class="list-item-body">\n        <div class="row">\n          <div class="col-sm-3">\n            <label class="small" translate>SMS ID</label>\n            <br class="visible-sm">\n            <span ng-bind="sms.smsId"></span>\n          </div>\n          <div class="col-sm-4">\n            <label class="small" translate>Date sent</label>\n            <br class="visible-sm">\n            <span>{{sms.dateSent | date:\'d MMM y h:mm\'}}</span>\n          </div>\n          <div class="col-sm-4">\n            <label class="small" translate>Date received</label>\n            <br class="visible-sm">\n            <span>{{sms.dateReceived | date:\'d MMM y h:mm\'}}</span>\n          </div>\n          <div class="col-sm-1 text-right">\n            <div class="text-left visible-xs">\n              <label class="small" translate>Status</label> {{sms.status | translate}}\n              <i ng-if="sms.status ===\'Delivered\' || sms.status ===\'Received\'" class="text-success" c8y-icon="check"></i>\n              <i ng-if="sms.status ===\'Pending\'" class="text-info" c8y-icon="ellipsis-h"></i>\n              <i ng-if="sms.status ===\'Failed\'" class="text-danger" c8y-icon="exclamation-circle"></i>\n            </div>\n            <div class="hidden-xs">\n              <i ng-if="sms.status ===\'Delivered\' || sms.status ===\'Received\'" class="text-success" c8y-icon="check" uib-tooltip="{{sms.status | translate}}"></i>\n              <i ng-if="sms.status ===\'Pending\'" class="text-info" c8y-icon="ellipsis-h" uib-tooltip="{{sms.status | translate}}"></i>\n              <i ng-if="sms.status ===\'Failed\'" class="text-danger" c8y-icon="exclamation-circle" uib-tooltip="{{sms.status | translate}}"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="collapse" uib-collapse="!isDetailExpanded">\n        <div class="flex-row">\n          <div class="list-item-icon"></div>\n          <div class="list-item-body">\n            <div class="row top-m bottom-m">\n              <span style="width: 35px; float: left" class="visible-xs"></span>\n              <div class="col-sm-4">\n                <label class="small" translate>Sent from</label>\n                <small ng-bind="sms.from"></small>\n                <br>\n                <label class="small" translate>Sent to</label>\n                <small ng-bind="sms.to"></small>\n                <br>\n                <label class="small" translate>Message type</label>\n                <small ng-bind="sms.type"></small>\n              </div>\n              <div class="col-sm-8">\n                <label class="small" translate>Message text</label>\n                <p>{{sms.text}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class="card-block">\n      <div class="legend form-block" translate>Send SMS</div>\n      <form name="forms.messageForm" ng-if="vm.isAdmin">\n        <div class="form-group" ng-class="{\'has-error\': invalid(\'mText\')}" uib-tooltip="{{vm.validationHints(forms.messageForm.mText)}}">\n          <textarea required ng-model="vm.message.text" name="mText" class="form-control form-group" rows="3"></textarea>\n        </div>\n\n        <div class="form-group">\n          <button ng-disabled="forms.messageForm.$invalid" class="btn btn-primary" translate ng-click="vm.sendSms(vm.message)">Send</button>\n        </div>\n      </form>\n    </div>\n  </div></div>',n.put("connectivityV2/sms.html",t),n.put("core_connectivityV2/sms.html",t),n.put("/apps/core/connectivityV2/sms.html",t),t='<div class="card">\r\n  <div class="card-header">\r\n    <h4 class="card-title" translate>Status</h4>\r\n  </div>\r\n  <hr>\r\n  <div class="card-block">\r\n    <form name="forms.terminalForm">\r\n      <div class="row">\r\n        <div class="col-md-4 col-sm-3" ng-if="vm.supportedFunctionalities.IN_SESSION">\r\n          <div class="form-group">\r\n            <label class="small" translate>In session</label>\r\n            <p ng-bind="vm.session.inSession | translate"></p>\r\n          </div>\r\n        </div>\r\n        <div ng-if="vm.supportedFunctionalities.SESSION_START">\r\n          <div class="col-md-4 col-sm-5">\r\n            <div class="form-group">\r\n              <label class="small" translate>Session start</label>\r\n              <span ng-if="vm.session.inSession === \'Yes\'">\r\n                <p ng-bind="vm.session.sessionStartTime | absoluteDate"></p>\r\n              </span>\r\n              <p ng-if="vm.session.inSession !== \'Yes\'">\r\n                -\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4 col-sm-4">\r\n            <div class="form-group">\r\n              <label class="small" translate>Session IP address</label>\r\n              <span ng-if="vm.session.inSession === \'Yes\'">\r\n                <p ng-bind="vm.session.ipAddress"></p>\r\n              </span>\r\n              <p ng-if="vm.session.inSession !== \'Yes\'">\r\n                -\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <!--vm.session.iccid field is shared by ICCID and MSISDN we are changing only label-->\r\n        <div class="col-md-4" ng-if="vm.supportedFunctionalities.ICCID">\r\n          <div class="form-group">\r\n            <label class="small" translate>ICCID</label>\r\n            <p ng-bind="vm.session.iccid"></p>\r\n          </div>\r\n        </div>\r\n\r\n        <!--TODO remove  MSISDN from supportedFunctionalities on BE -->\r\n        <div class="col-md-4" ng-if="vm.supportedFunctionalities.MSISDN && !vm.supportedFunctionalities.ICCID && vm.provider !== \'ericsson\'">\r\n          <div class="form-group">\r\n            <label class="small" translate>MSISDN</label>\r\n            <p ng-bind="vm.session.iccid"></p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="col-md-4" ng-if="vm.supportedFunctionalities.SIM_STATUS_FIELD">\r\n          <div class="form-group">\r\n            <label class="small" translate>SIM status</label>\r\n            <div class="row">\r\n              <div class="col-xs-9">\r\n                <div class="c8y-select-wrapper">\r\n                  <select class="form-control" ng-model="vm.currentStatus" ng-disabled="!vm.isAdmin" ng-change="vm.setSimStatus(vm.currentStatus)">\r\n                    <option ng-repeat="status in vm.statusMap.statuses" ng-disabled="status.readOnly" ng-bind="status.text | translate" ng-selected="status.status === currentStatus" value="{{status.status}}">\r\n                    </option>\r\n                  </select>\r\n                  <span></span>\r\n                </div>\r\n              </div>\r\n              <div class="col-xs-3">\r\n                <i c8y-icon="{{vm.statusIcon}}" ng-class="vm.statusClass" style="font-size: 20px; line-height: 34px"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4" ng-if="vm.supportedFunctionalities.FIXED_IP">\r\n          <div class="form-group">\r\n            <label class="small" translate>Fixed IP address</label>\r\n            <p ng-bind="vm.session.fixedIpAddress"></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-md-4" ng-if="vm.supportedFunctionalities.SMS_USAGE">\r\n          <div class="form-group">\r\n            <label class="small" translate>SMS usage</label>\r\n            <p>{{vm.session.currentDaySmsUsage || vm.session.currentMonthSmsUsage}}\r\n              <button class="btn btn-link" uib-popover="{{vm.getLastMonthSmsUsageTooltip()}}" popover-placement="auto right" popover-append-to-body="true" popover-trigger="\'focus\'">\r\n                <i c8y-icon="question-circle-o"></i>\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4" ng-if="vm.supportedFunctionalities.DATA_USAGE">\r\n          <div class="form-inline">\r\n            <label class="small" translate>Data usage (MB)</label>\r\n            <p>{{vm.session.currentDayDataUsage || vm.session.currentMonthDataUsage}} \r\n              <button class="btn btn-link" uib-popover="{{vm.getDataUsageTooltip()}}" popover-placement="auto right" popover-append-to-body="true" popover-trigger="\'focus\'">\r\n                <i c8y-icon="question-circle-o"></i>\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4" ng-if="vm.supportedFunctionalities.VOICE_USAGE">\r\n          <div class="form-group">\r\n            <label class="small" translate>Voice usage</label>\r\n            <p class="wide-linebreak-tooltip">\r\n              {{vm.session.currentDayVoiceUsage || vm.session.currentMonthVoiceUsage}}\r\n              <button class="btn btn-link" uib-popover="{{vm.getVoiceUsageTooltip()}}" popover-placement="auto right" popover-append-to-body="true" popover-trigger="\'focus\'">\r\n                <i c8y-icon="question-circle-o"></i>\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row" ng-if="vm.session.customFields">\r\n        <div class="col-md-4" ng-if="vm.session.customFields.length > 0" ng-repeat="customField in vm.session.customFields">\r\n          <div class="form-group">\r\n            <label class="small">{{customField.name | translate}}</label>\r\n            <p ng-bind="customField.value || \'-\'"></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>',n.put("connectivityV2/status.html",t),n.put("core_connectivityV2/status.html",t),n.put("/apps/core/connectivityV2/status.html",t)}angular.module("c8y.connectivityV2").run(["$templateCache",n])}();